<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type"
          content="text/html; charset=utf-8" />
    <meta content="initial-scale=1.0, width=device-width"
          name="viewport" />
    <script src="../boot.js">
    </script>
    <link href="./frameset.html"
          rel="frameset" />
    <link href="./basic.css"
          rel="stylesheet" />
    <title></title>
  </head>
  <body>
    <nav role="navigation">
      Location: <a href="./"
           title="Home"
           rel="home">HyperFrameset</a> / <a href="Processors.html"
           rel="self">Processors</a><br />
      Previous: <a href="Frame-Definition.html"
           title="Previous">Frame Definition</a> , Next: <a href=
           "Decoders.html"
           title="Next">Decoders</a>
    </nav>
    <main id="mk_main"
          role="main">
      <h2>
        Processors
      </h2>
      <p>
        A processor transforms an input (typically a DOM-fragment or
        DOM-document) to an output. The processing MAY be configurable with a
        processing-template and other options passed during initialization, and
        input related details passed before processing.
      </p>
      <p>
        A processor is a javascript "class" which is registered with the
        frame-overseer by calling
      </p>
      <pre><code class="javascript">Meeko.processors.register(name, processor)
</code></pre>
      <p>
        where
      </p>
      <ul>
        <li>
          <code>name</code> is a string-identifier for the processor
        </li>
        <li>
          <code>processor</code> is the processor class constructor function
        </li>
      </ul>
      <p>
        The frame-overseer will create a processor instance by calling
      </p>
      <pre><code class="javascript">new processor(options)
</code></pre>
      <p>
        where <code>options</code> is the configuration object associated with
        a <code>&lt;hf-transform&gt;</code> definition.
      </p>
      <p>
        The processor prototype MUST have two methods:
      </p>
      <pre><code class="javascript">loadTemplate: function(template)

transform: function(input, details)
</code></pre>
      <p>
        <code>loadTemplate(template)</code> is called immediately after
        processor construction, where <code>template</code> is a DOM-fragment.
      </p>
      <p>
        If the processor doesn't use a template then the implementation should
        log a warning if the template is non-empty.
      </p>
      <p>
        <code>transform(input, details)</code> is called to process the
        <code>input</code> where <code>details</code> is a JS object with the
        following fields:
      </p>
      <ul>
        <li>url: the url of the original document which is being processed
        </li>
        <li>scope: the scope-url in which the current frameset is operating
        </li>
      </ul>
    </main>
  </body>
</html>
